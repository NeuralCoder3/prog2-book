<!DOCTYPE html>
<html lang="en-US">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<figure class="listing figure-like"><div class="code-box" style="width: 100%; margin-left: 0%; margin-right: 0%;">
<pre class="program"><code class="language-nasm">    .text
    .globl main
main:
    li   $a0 10    # load 10 into register $a0
    jal  factorial # call function factorial
    move $a0 $v0   # result is in $v0; move to $a0
    li   $v0 1     # load syscall number 1 into $v0
    syscall        # call system to output
    li   $v0 10    # load syscall number 10 into $v0
    syscall        # call system to end program
</code></pre>
<a xmlns:mb="https://pretextbook.org/" xmlns:msxsl="urn:schemas-microsoft-com:xslt" style="margin-top:.6em;color: var(--bodytitle);" target="_blank" href="https://neuralcoder3.github.io/mars-mips/?code=%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.text%0A%20%20%20%20.globl%20factorial%0Afactorial%3A%0A%20%20%20%20li%20%20%20%20%24v0%201%20%20%20%20%20%20%20%23%20load%201%20into%20register%20%24v0%0A%20%20%20%20b%20%20%20%20%20check%20%20%20%20%20%20%20%23%20jump%20to%20label%20check%0Aloop%3A%0A%20%20%20%20mul%20%20%20%24v0%20%24v0%20%24a0%20%23%20multiply%20%24v0%20with%20%24a0%20and%20put%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20result%20into%20%24v0%0A%20%20%20%20addiu%20%24a0%20%24a0%20-1%20%20%23%20Subtract%201%20from%20%24a0%20%0Acheck%3A%0A%20%20%20%20bgtz%20%20%24a0%20loop%20%20%20%20%23%20branch%20to%20loop%2C%20if%20%24a0%20%3E%200%20%20%20%20%20%20%20%0A%20%20%20%20jr%20%20%20%20%24ra%20%20%20%20%20%20%20%20%20%23%20return%20to%20caller%0A%0A%20%20%20%20.globl%20main%0Amain%3A%0A%20%20%20%20li%20%20%20%24a0%205%20%20%20%20%23%20load%2010%20into%20register%20%24a0%0A%20%20%20%20jal%20%20factorial%20%23%20call%20function%20factorial%0A%20%20%20%20move%20%24a0%20%24v0%20%20%20%23%20result%20is%20in%20%24v0%3B%20move%20to%20%24a0%0A%20%20%20%20li%20%20%20%24v0%201%20%20%20%20%20%23%20load%20syscall%20number%201%20into%20%24v0%0A%20%20%20%20syscall%20%20%20%20%20%20%20%20%23%20call%20system%20to%20output%0A%20%20%20%20li%20%20%20%24v0%2010%20%20%20%20%23%20load%20syscall%20number%2010%20into%20%24v0%0A%20%20%20%20syscall%20%20%20%20%20%20%20%20%23%20call%20system%20to%20end%20program%0A%20%20%20%20%20%20%20%20%20%20">Run</a>
</div>
<figcaption><span class="type">Listing</span><span class="space"> </span><span class="codenumber">2.3.5<span class="period">.</span></span><span class="space"> </span>A main program for our factorial function</figcaption></figure><span class="incontext"><a href="sec-asm-asm.html#fig-asm-fact-main" class="internal">in-context</a></span>
</body>
</html>
