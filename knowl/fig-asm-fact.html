<!DOCTYPE html>
<html lang="en-US">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<figure class="listing figure-like"><div class="code-box" style="width: 100%; margin-left: 0%; margin-right: 0%;">
<pre class="program"><code class="language-nasm">    .text
    .globl factorial
factorial:
    li    $v0 1       # load 1 into register $v0
    b     check       # jump to label check
loop:
    mul   $v0 $v0 $a0 # multiply $v0 with $a0 and put 
                      # result into $v0
    addiu $a0 $a0 -1  # Subtract 1 from $a0 
check:
    bgtz  $a0 loop    # branch to loop, if $a0 &gt; 0       
    jr    $ra         # return to caller
</code></pre>
<a xmlns:mb="https://pretextbook.org/" xmlns:msxsl="urn:schemas-microsoft-com:xslt" style="margin-top:.6em;color: var(--bodytitle);" target="_blank" href="https://neuralcoder3.github.io/mars-mips/?code=%0A%20%20%20%20.text%0A%20%20%20%20.globl%20factorial%0Afactorial%3A%0A%20%20%20%20li%20%20%20%20%24v0%201%20%20%20%20%20%20%20%23%20load%201%20into%20register%20%24v0%0A%20%20%20%20b%20%20%20%20%20check%20%20%20%20%20%20%20%23%20jump%20to%20label%20check%0Aloop%3A%0A%20%20%20%20mul%20%20%20%24v0%20%24v0%20%24a0%20%23%20multiply%20%24v0%20with%20%24a0%20and%20put%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20result%20into%20%24v0%0A%20%20%20%20addiu%20%24a0%20%24a0%20-1%20%20%23%20Subtract%201%20from%20%24a0%20%0Acheck%3A%0A%20%20%20%20bgtz%20%20%24a0%20loop%20%20%20%20%23%20branch%20to%20loop%2C%20if%20%24a0%20%3E%200%20%20%20%20%20%20%20%0A%20%20%20%20jr%20%20%20%20%24ra%20%20%20%20%20%20%20%20%20%23%20return%20to%20caller%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20">Run</a>
</div>
<figcaption><span class="type">Listing</span><span class="space"> </span><span class="codenumber">2.3.4<span class="period">.</span></span><span class="space"> </span>A function that calculates the factorial of a number. This number is expected to be in registerÂ <code class="code-inline tex2jax_ignore">$a0</code> when the function is invoked.</figcaption></figure><span class="incontext"><a href="sec-asm-asm.html#fig-asm-fact" class="internal">in-context</a></span>
</body>
</html>
