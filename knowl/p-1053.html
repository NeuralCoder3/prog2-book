<!DOCTYPE html>
<html lang="en-US">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<h4 class="heading"><span class="type">Paragraph</span></h4>
<div class="para">The type environment is implemented by the class <code class="code-inline tex2jax_ignore">Scope</code> that maps an identifier to the AST node of its declaration in the <em class="emphasis">current</em> scope. Scope objects are created during the type checking process: Whenever we enter a new block, we create a new scope to collect the variable declarations in that scope (see rule [TBlock] in <a href="sec-c0-type.html" class="internal" title="Section 6.6: A Simple Type System (C0t)">SectionÂ 6.6</a>). To access the declarations of variables in outer scopes, a scope also links to its parent scope via a reference, making it effectively a stack of scopes. When type checking for this block is finished, we can pop the scope of the block from the scope stack. This corresponds naturally to the scope nesting of the programming language. The following code shows the handling of scopes when type checking a block:</div>
<span class="incontext"><a href="sec-comp-tychk.html#p-1053" class="internal">in-context</a></span>
</body>
</html>
