<!DOCTYPE html>
<html lang="en-US">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<h4 class="heading"><span class="type">Paragraph</span></h4>
<div class="para logical">
<div class="para">The function</div>
<div class="displaymath process-math">
\begin{equation*}
\mathit{codeR}:(\Var\pto\Nat)\to\mathit{Regs}^\ast\to\Expr\to\Ty\to\mathit{Code}
\end{equation*}
</div>
<div class="para">(and <span class="process-math">\(\mathit{codeL}\)</span> analogously) takes the following arguments:</div>
<ol class="decimal">
<li><div class="para">A mapping that maps each variable's name to its offset in the stack frame.</div></li>
<li><div class="para">A list of registers that can be used for evaluating the expression.</div></li>
<li><div class="para">The expression to generate the code for.</div></li>
<li><div class="para">The type of the expression as determined by the type checker in the last section.</div></li>
</ol>
<div class="para">It returns a piece of code the implements the evaluation of the expression. We set up the code such that the resulting value of the expression is always stored in the first register of the register list that we pass to <span class="process-math">\(\mathit{codeR/L}\text{.}\)</span> In the following, we are defining both functions recursively over the different elements of the abstract expression syntax ofÂ C0.</div>
</div>
<span class="incontext"><a href="sec-comp-codegen.html#p-1061" class="internal">in-context</a></span>
</body>
</html>
