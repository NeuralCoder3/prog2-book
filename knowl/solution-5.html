<!DOCTYPE html>
<html lang="en-US">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<div class="solution solution-like">
<h4 class="heading">
<span class="type">Solution</span><span class="space"> </span><span class="codenumber">4.10.3.2.1</span><span class="period">.</span>
</h4>
<div class="code-box" style="width: 100%; margin-left: 0%; margin-right: 0%;">
<pre class="program"><code class="language-c">#include &lt;stdio.h&gt;

int main(int argc, char* argv[])
{
  // declare pointers to int objects
  int *dr, *ds;
  // declare pointers to pointers to int objects
  int **drr, **dss;
  int i;
  // declare an array of 5 ints
  int aa[5];

  // set every array element to -123
  for (i = 0; i &lt; 5; i++) *(aa + i) = -123;

  // dr is assigned the address of aa's fourth element: dr--&gt;aa[3]
  dr = &amp;aa[3];
  // ds is assigned the address of aa's first element: dr--&gt;aa[0]
  ds = dr - 3;
  // drr now points to dr: drr--&gt;dr--&gt;aa[3]
  drr = &amp;dr;
  // dss now points to ds: dss--&gt;ds--&gt;aa[0]
  dss = &amp;ds;
  // the container pointed to by dr is set to 23: aa[3] = 23
  *dr = 23;
  // the container pointed to by ds is set to 11: aa[0] = 11
  *ds = 11;
  // the container behind the one pointed to by dr is set to 5: aa[3+1] = 5
  *(dr + 1) = 5;
  // ds now points to the next array element: dss--&gt;ds--&gt;aa[1]
  ds += 1;
  // the container pointed to by ds is set to 66: a[1] = 66
  *ds = 66;
  aa[2] = 42;
  // Output: 11 66 42 23 5
  printf("%d %d %d %d %d\n", aa[0], aa[1], aa[2], aa[3], aa[4]);

  // a[0] = aa[2] - aa[1] = 42-66 = -24
  aa[0] = *(aa+2) - *(aa + 1);
  // the container before the one pointed to by dr is set to 7: a[3-1] = 7
  *(*drr - 1) = 7;
  // The content of the third container behind ds is set to 4: a[1+3] = 4
  *(*dss + 3) = 4;
  // aa[1] = aa[3] + a[3-2] = 23+66 = 89
  **dss = **drr + *(*drr - 2);
  // Output: -24 89 7 23 4
  printf("%d %d %d %d %d\n", aa[0], aa[1], aa[2], aa[3], aa[4]);

  return 0;
}
</code></pre>
<a xmlns:mb="https://pretextbook.org/" xmlns:msxsl="urn:schemas-microsoft-com:xslt" style="margin-top:.6em;color: var(--bodytitle);" target="_blank" href="https://prog2.de/book/external/code/c_codecast.html?autocompile=true&amp;code=%0A%20%20%20%20%20%20%20%20%23include%20%3Cstdio.h%3E%0A%0A%20%20%20%20%20%20%20%20int%20main(int%20argc%2C%20char*%20argv%5B%5D)%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20declare%20pointers%20to%20int%20objects%0A%20%20%20%20%20%20%20%20%20%20int%20*dr%2C%20*ds%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20declare%20pointers%20to%20pointers%20to%20int%20objects%0A%20%20%20%20%20%20%20%20%20%20int%20**drr%2C%20**dss%3B%0A%20%20%20%20%20%20%20%20%20%20int%20i%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20declare%20an%20array%20of%205%20ints%0A%20%20%20%20%20%20%20%20%20%20int%20aa%5B5%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20set%20every%20array%20element%20to%20-123%0A%20%20%20%20%20%20%20%20%20%20for%20(i%20%3D%200%3B%20i%20%3C%205%3B%20i%2B%2B)%20*(aa%20%2B%20i)%20%3D%20-123%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20dr%20is%20assigned%20the%20address%20of%20aa's%20fourth%20element%3A%20dr--%3Eaa%5B3%5D%0A%20%20%20%20%20%20%20%20%20%20dr%20%3D%20%26aa%5B3%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20ds%20is%20assigned%20the%20address%20of%20aa's%20first%20element%3A%20dr--%3Eaa%5B0%5D%0A%20%20%20%20%20%20%20%20%20%20ds%20%3D%20dr%20-%203%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20drr%20now%20points%20to%20dr%3A%20drr--%3Edr--%3Eaa%5B3%5D%0A%20%20%20%20%20%20%20%20%20%20drr%20%3D%20%26dr%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20dss%20now%20points%20to%20ds%3A%20dss--%3Eds--%3Eaa%5B0%5D%0A%20%20%20%20%20%20%20%20%20%20dss%20%3D%20%26ds%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20the%20container%20pointed%20to%20by%20dr%20is%20set%20to%2023%3A%20aa%5B3%5D%20%3D%2023%0A%20%20%20%20%20%20%20%20%20%20*dr%20%3D%2023%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20the%20container%20pointed%20to%20by%20ds%20is%20set%20to%2011%3A%20aa%5B0%5D%20%3D%2011%0A%20%20%20%20%20%20%20%20%20%20*ds%20%3D%2011%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20the%20container%20behind%20the%20one%20pointed%20to%20by%20dr%20is%20set%20to%205%3A%20aa%5B3%2B1%5D%20%3D%205%0A%20%20%20%20%20%20%20%20%20%20*(dr%20%2B%201)%20%3D%205%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20ds%20now%20points%20to%20the%20next%20array%20element%3A%20dss--%3Eds--%3Eaa%5B1%5D%0A%20%20%20%20%20%20%20%20%20%20ds%20%2B%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20the%20container%20pointed%20to%20by%20ds%20is%20set%20to%2066%3A%20a%5B1%5D%20%3D%2066%0A%20%20%20%20%20%20%20%20%20%20*ds%20%3D%2066%3B%0A%20%20%20%20%20%20%20%20%20%20aa%5B2%5D%20%3D%2042%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Output%3A%2011%2066%2042%2023%205%0A%20%20%20%20%20%20%20%20%20%20printf(%22%25d%20%25d%20%25d%20%25d%20%25d%5Cn%22%2C%20aa%5B0%5D%2C%20aa%5B1%5D%2C%20aa%5B2%5D%2C%20aa%5B3%5D%2C%20aa%5B4%5D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20a%5B0%5D%20%3D%20aa%5B2%5D%20-%20aa%5B1%5D%20%3D%2042-66%20%3D%20-24%0A%20%20%20%20%20%20%20%20%20%20aa%5B0%5D%20%3D%20*(aa%2B2)%20-%20*(aa%20%2B%201)%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20the%20container%20before%20the%20one%20pointed%20to%20by%20dr%20is%20set%20to%207%3A%20a%5B3-1%5D%20%3D%207%0A%20%20%20%20%20%20%20%20%20%20*(*drr%20-%201)%20%3D%207%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20The%20content%20of%20the%20third%20container%20behind%20ds%20is%20set%20to%204%3A%20a%5B1%2B3%5D%20%3D%204%0A%20%20%20%20%20%20%20%20%20%20*(*dss%20%2B%203)%20%3D%204%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20aa%5B1%5D%20%3D%20aa%5B3%5D%20%2B%20a%5B3-2%5D%20%3D%2023%2B66%20%3D%2089%0A%20%20%20%20%20%20%20%20%20%20**dss%20%3D%20**drr%20%2B%20*(*drr%20-%202)%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Output%3A%20-24%2089%207%2023%204%0A%20%20%20%20%20%20%20%20%20%20printf(%22%25d%20%25d%20%25d%20%25d%20%25d%5Cn%22%2C%20aa%5B0%5D%2C%20aa%5B1%5D%2C%20aa%5B2%5D%2C%20aa%5B3%5D%2C%20aa%5B4%5D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20">Run</a>
</div>
</div>
<span class="incontext"><a href="sec-c-ptr.html#solution-5" class="internal">in-context</a></span>
</body>
</html>
